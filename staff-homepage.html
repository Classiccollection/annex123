<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Staff Homepage - Annex Cash</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f7f7f7;
        }

        header {
            background-color: #4b3621;
            color: white;
            padding: 10px 20px;
            text-align: center;
        }

        .container {
            padding: 20px;
            max-width: 900px;
            margin: 0 auto;
        }

        .section {
            margin-bottom: 40px;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        h3 {
            margin-bottom: 10px;
        }

        input[type="text"], input[type="number"], input[type="file"] {
            width: 100%;
            padding: 10px;
            margin: 5px 0 15px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        button {
            background-color: #007bff;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        button:hover {
            background-color: #0056b3;
        }

        .task-list {
            margin-top: 20px;
        }

        .task-item {
            padding: 10px;
            margin-bottom: 15px;
            background-color: #e9ecef;
            border-radius: 5px;
        }

        .task-item h4 {
            margin: 0;
        }

        .task-item button {
            margin-right: 5px;
        }
    </style>
</head>
<body>

<header>
    <h1>Annex Cash Staff Homepage</h1>
</header>

<div class="container">

    <!-- Videos Section -->
    <div class="section">
        <h3>Add Video Task</h3>
        <input type="file" id="videoUpload" accept="video/*" />
        <input type="text" id="videoPoints" placeholder="Points Awarded" />
        <input type="number" id="maxVideoViews" placeholder="Max Views" />
        <button onclick="uploadVideoTask()">Upload Video Task</button>
        
        <div class="task-list" id="videoTaskList"></div>
    </div>

    <!-- Surveys Section -->
    <div class="section">
        <h3>Add Survey Task</h3>
        <input type="text" id="surveyLink" placeholder="Survey Link" />
        <input type="text" id="surveyPoints" placeholder="Points Awarded" />
        <input type="number" id="maxSurveyViews" placeholder="Max Views" />
        <button onclick="uploadSurveyTask()">Upload Survey Task</button>
        
        <div class="task-list" id="surveyTaskList"></div>
    </div>

    <!-- Games Section -->
    <div class="section">
        <h3>Add Game Task</h3>
        <input type="text" id="gameLink" placeholder="Game Link" />
        <input type="text" id="gamePoints" placeholder="Points Awarded" />
        <input type="number" id="maxGamePlays" placeholder="Max Plays" />
        <button onclick="uploadGameTask()">Upload Game Task</button>
        
        <div class="task-list" id="gameTaskList"></div>
    </div>
</div>

<script>
    // Array to hold task information (this would typically be fetched from Firebase)
    const videoTasks = [];
    const surveyTasks = [];
    const gameTasks = [];

    function uploadVideoTask() {
        const videoFile = document.getElementById('videoUpload').files[0];
        const points = document.getElementById('videoPoints').value;
        const maxViews = document.getElementById('maxVideoViews').value;

        if (videoFile && points && maxViews) {
            const task = { videoFile, points, maxViews, views: 0 };
            videoTasks.push(task);
            updateTaskList('video', videoTasks);
        } else {
            alert("Please fill in all fields.");
        }
    }

    function uploadSurveyTask() {
        const link = document.getElementById('surveyLink').value;
        const points = document.getElementById('surveyPoints').value;
        const maxViews = document.getElementById('maxSurveyViews').value;

        if (link && points && maxViews) {
            const task = { link, points, maxViews, views: 0 };
            surveyTasks.push(task);
            updateTaskList('survey', surveyTasks);
        } else {
            alert("Please fill in all fields.");
        }
    }

    function uploadGameTask() {
        const link = document.getElementById('gameLink').value;
        const points = document.getElementById('gamePoints').value;
        const maxPlays = document.getElementById('maxGamePlays').value;

        if (link && points && maxPlays) {
            const task = { link, points, maxPlays, plays: 0 };
            gameTasks.push(task);
            updateTaskList('game', gameTasks);
        } else {
            alert("Please fill in all fields.");
        }
    }

    function updateTaskList(type, tasks) {
        const taskListId = type === 'video' ? 'videoTaskList' : type === 'survey' ? 'surveyTaskList' : 'gameTaskList';
        const taskList = document.getElementById(taskListId);
        taskList.innerHTML = ''; // Clear the existing list

        tasks.forEach((task, index) => {
            const taskItem = document.createElement('div');
            taskItem.className = 'task-item';
            taskItem.innerHTML = `
                <h4>${type.charAt(0).toUpperCase() + type.slice(1)} Task</h4>
                ${type === 'video' ? '<video width="200" controls><source src="' + URL.createObjectURL(task.videoFile) + '" type="video/mp4">Your browser does not support the video tag.</video>' : ''}
                <p>Points Awarded: ${task.points}</p>
                <p>Max Views: ${task.maxViews || task.maxPlays}</p>
                <button onclick="deleteTask('${type}', ${index})">Delete</button>
                <button onclick="putOnHold('${type}', ${index})">Put on Hold</button>
                <button onclick="adjustTask('${type}', ${index})">Adjust</button>
            `;
            taskList.appendChild(taskItem);
        });
    }

    function deleteTask(type, index) {
        if (type === 'video') {
            videoTasks.splice(index, 1);
            updateTaskList('video', videoTasks);
        } else if (type === 'survey') {
            surveyTasks.splice(index, 1);
            updateTaskList('survey', surveyTasks);
        } else {
            gameTasks.splice(index, 1);
            updateTaskList('game', gameTasks);
        }
    }

    function putOnHold(type, index) {
        // Logic to put task on hold (could change a status flag in a real application)
        alert(type.charAt(0).toUpperCase() + type.slice(1) + " task is now on hold.");
    }

    function adjustTask(type, index) {
        // Logic to adjust points and views (implement a modal for this in a real app)
        const newPoints = prompt("Enter new points for the task:", type === 'video' ? videoTasks[index].points : type === 'survey' ? surveyTasks[index].points : gameTasks[index].points);
        const newMaxViews = prompt("Enter new maximum views:", type === 'video' ? videoTasks[index].maxViews : type === 'survey' ? surveyTasks[index].maxViews : gameTasks[index].maxPlays);

        if (newPoints !== null) {
            if (type === 'video') {
                videoTasks[index].points = newPoints;
            } else if (type === 'survey') {
                surveyTasks[index].points = newPoints;
            } else {
                gameTasks[index].points = newPoints;
            }
        }

        if (newMaxViews !== null) {
            if (type === 'video') {
                videoTasks[index].maxViews = newMaxViews;
            } else if (type === 'survey') {
                surveyTasks[index].maxViews = newMaxViews;
            } else {
                gameTasks[index].maxPlays = newMaxViews;
            }
        }

        updateTaskList(type, type === 'video' ? videoTasks : type === 'survey' ? surveyTasks : gameTasks);
    }
</script>

</body>
</html>
